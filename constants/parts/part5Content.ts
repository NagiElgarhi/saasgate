
import { Part, ContentType } from '../../types';

export const part5: Part = {
  id: 'part5',
  partTitle: 'ุงูุจุงุจ ุงูุฎุงูุณ: ุชุทููุฑ ุงููุงุฌูุฉ ุงูุฎูููุฉ ููุธุงู SaaS',
  icon: '๐',
  chapters: [
    {
      id: 'part5_chapter1',
      chapterTitle: 'ุงููุตู 5: ุชุทููุฑ ุงููุงุฌูุฉ ุงูุฎูููุฉ โ ุจูุงุก API ูููุฉุ ุขููุฉุ ููุงุจูุฉ ููุชูุณุน',
      sections: [
        {
          id: 'part5_ch1_sec1',
          title: 'ููุฏูุฉ: ููุงุฐุง ุงููุงุฌูุฉ ุงูุฎูููุฉ ูู ุงูุนููุฏ ุงูููุฑู ูุฃู ูุธุงู SaaSุ',
          icon: '๐',
          content: [
            {
              type: ContentType.PARAGRAPH,
              text: 'ุฅุฐุง ูุงูุช <b>ุงููุงุฌูุฉ ุงูุฃูุงููุฉ</b> ูู "ุงููุฌู" ุงูุฐู ูุฑุงู ุงูุนููู ููุชูุงุนู ูุนูุ ูุฅู <b>ุงููุงุฌูุฉ ุงูุฎูููุฉ (Backend)</b> ูู "ุงูุฏูุงุบ ูุงูุฌูุงุฒ ุงูุนุตุจู ุงููุฑูุฒู" ุงูุฐู ูููููุฑุ ููุนุงูุฌุ ูุชุฐูุฑุ ููุญูู. ุฅููุง ููุณุช ูุฌุฑุฏ ูุณุชูุฏุน ููุจูุงูุงุชุ ุจู ูู ุงูุญุงุฑุณ ุงูุฐู ููุฑุถ ููุทู ุงูุนูู (Business Logic)ุ ููุถูู ุฃู ุงููุณุชุฎุฏู ูุง ููููู ุฅูุดุงุก 200 ูุดุฑูุน ูู ุงูุฎุทุฉ ุงูุชู ุชุณูุญ ุจู 5 ููุท. ูู ุงูุชู ุชุนุงูุฌ ุงููุฏููุนุงุช ุจุฃูุงูุ ูุชุทูู ุงูููุงู ุงููุนูุฏุฉ ูู ุงูุฎูููุฉุ ูุชุชูุงูู ุจุณูุงุณุฉ ูุน ุนุดุฑุงุช ุงูุฎุฏูุงุช ุงูุฃุฎุฑู ุงูุชู ูุนุชูุฏ ุนูููุง ุนููู.',
            },
            {
                type: ContentType.PARAGRAPH,
                text: 'ูู ูุธุงู SaaSุ ูุง ูููู ุงูุงุนุชูุงุฏ ุนูู ูุงุฌูุฉ ุฎูููุฉ ุจุณูุทุฉ ุชูุนูุฏ ุจูุงูุงุช ุซุงุจุชุฉ. ุฃูุช ุชุจูู ูุธุงููุง ูุฑูุฒููุง ูุนูุฏูุง ูุตูููุง ูุงุณุชุถุงูุฉ <b>ุขูุงูุ ูุฑุจูุง ููุงูููุ ุงููุณุชุฃุฌุฑูู (Tenants)</b> ูู ููุณ ุงูููุชุ ูููุนุงูุฌ <b>ูููุงุฑุงุช ุงูุทูุจุงุช ุดูุฑููุง</b>ุ ูููุฏูุฑ <b>ุงูุฏูุนุ ุงูุตูุงุญูุงุชุ ุงูุชูุงููุงุชุ ูุงูุฃูุงู</b> ุจุดูู ูุชุฒุงูู ูุขูู. ุงูุณุคุงู ุงูุญุงุณู ููุณ "ูู ูููููู ูุชุงุจุฉ APIุ"ุ ุจู "ูู ูููููู ุจูุงุก ูุงุฌูุฉ ุฎูููุฉ ูุตููุฉ ููุตููุฏ ุฃูุงู ุถุบุท ุงููููุ ููุงููุฉ ูููุฌูุงุชุ ูุณููุฉ ุงูุตูุงูุฉ ูุงูุชุทููุฑ ุนูู ุงููุฏู ุงูุทูููุ"',
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ูู ูุฐุง ุงููุตูุ ุณูุบูุต ูู <b>ุงูุนูู ุงูุชููู ูููุงุฌูุฉ ุงูุฎูููุฉ ูู ุฃูุธูุฉ SaaS</b>ุ ูุชุฌุงูุฒูู ุงูุฃุณุงุณูุงุช ููุชุฑููุฒ ุนูู ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ ุงูุชู ุชูุตู ุจูู ูุธุงู ูููุงุฑ ุชุญุช ุฃูู 1000 ูุณุชุฎุฏู ููุธุงู ูุชูุณุน ุจุณูุงุณุฉ ุฅูู ููููู ูุณุชุฎุฏู. ุณูุฑูุฒ ุนูู:',
            },
            {
              type: ContentType.LIST_UNORDERED,
              items: [
                '<b>ุงูุฃููุงุท ุงููุนูุงุฑูุฉ ุงูุฑุฆูุณูุฉ:</b> ุชุญููู ููุงุฑู ุจูู Monolith ู Microservices ู Serverlessุ ูุน ุชูุถูุญ ูุชู ุชุฎุชุงุฑ ูู ููุท ูู ุฏูุฑุฉ ุญูุงุฉ SaaS.',
                '<b>ุชุตููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช (API) ุฏุงุนูุฉ ูู Multi-Tenant:</b> ุงุณุชุฑุงุชูุฌูุงุช ุชุญุฏูุฏ ุงููุณุชุฃุฌุฑุ ุชุตููู API ุบูุฑ ูุชูุฑุฑุฉ (Idempotent)ุ ูุฅุฏุงุฑุฉ ุงูุฅุตุฏุงุฑุงุช.',
                '<b>ุฃููุงุฏ ุนูููุฉ ูููุตูุฉ:</b> ุฃูุซูุฉ ูุงูุนูุฉ ูุฅุฏุงุฑุฉ ุงููุณุชุฎุฏูููุ ุงูุงุดุชุฑุงูุงุช ุจุงุณุชุฎุฏุงู Stripeุ ูุชุทุจูู ูุธุงู ุตูุงุญูุงุช ูุชูุฏู (RBAC/ABAC).',
                '<b>ุงุณุชุฑุงุชูุฌูุงุช ุงูุฃูุงู ุงููุชูุฏูุฉ:</b> ูู ุชุฃููู ุฑูุน ุงููููุงุช ุฅูู ููุน ูุฌูุงุช CSRF ู XSS ูู ููุธูุฑ ุงูุฎุงุฏูุ ูุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ (Secret Management).',
                '<b>ุชุญุณูู ุงูุฃุฏุงุก ุงูุฌุฐุฑู:</b> ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช (Caching) ุจูุนุงููุฉุ ูุชุทุจูู ููุงุฆู ุงูุงูุชุธุงุฑ ุบูุฑ ุงููุชุฒุงููุฉ (Asynchronous Queues) ููููุงู ุงูุซูููุฉ.',
                '<b>ุญุงูุงุช ุฏุฑุงุณูุฉ ูู ุดุฑูุงุช ูุซู Slackุ Shopifyุ ูNetflix:</b> ุชุญููู ูุฑุงุฑุงุชูู ุงููุนูุงุฑูุฉ ูููู ุณุงููุช ูู ูุฌุงุญูู.',
              ],
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ุจุนุฏ ูุฑุงุกุฉ ูุฐุง ุงููุตูุ ุณุชููู ูุงุฏุฑูุง ุนูู ุชุตููู ูุจูุงุก ูุงุฌูุฉ ุฎูููุฉ ูุง ุชุนูู ููุทุ ุจู ุชุนูู ุจููุงุกุฉ ูุฃูุงู ููุงุฏุฑุฉ ุนูู ุงูุชููู ูุน ูุชุทูุจุงุช ุงููุณุชูุจู.',
            },
          ]
        },
        {
          id: 'part5_ch1_sec2',
          title: 'ุงูุฃููุงุท ุงููุนูุงุฑูุฉ ูููุงุฌูุฉ ุงูุฎูููุฉ: Monolithุ Microservicesุ ุฃู Serverlessุ',
          icon: '๐๏ธ',
          content: [
            {
              type: ContentType.PARAGRAPH,
              text: 'ูุจู ูุชุงุจุฉ ุณุทุฑ ูุงุญุฏ ูู ุงูููุฏุ ุงููุฑุงุฑ ุงููุนูุงุฑู ุงูุฃูู ูุงูุฃูุซุฑ ุชุฃุซูุฑูุง ูู ุงุฎุชูุงุฑ ุงูููุท ุงูุฐู ุณุชุจูู ุนููู ูุงุฌูุชู ุงูุฎูููุฉ. ูุฐุง ุงููุฑุงุฑ ุณูุคุซุฑ ุนูู ุณุฑุนุฉ ุงูุชุทููุฑุ ุชูููุฉ ุงูุชุดุบููุ ุณูููุฉ ุงูุชูุณุนุ ูุญุชู ูููู ูุฑููู ุงูููุฏุณู.'
            },
            {
              type: ContentType.HEADING3,
              text: '1. The Monolith (ุงููุชูุฉ ุงููุงุญุฏุฉ ุงููุชุฑุงุตุฉ)'
            },
            {
              type: ContentType.PARAGRAPH,
              text: '<b>ุงููุตู:</b> ูู ุงูููุฌ ุงูุชูููุฏู ุญูุซ ูุชู ุจูุงุก ุงูุชุทุจูู ุจุฃูููู ููุญุฏุฉ ูุงุญุฏุฉ ูุชูุงููุฉ. ูู ุงูููุฒุงุช (ุงููุตุงุฏูุฉุ ุงูููุงุชูุฑุ ุงูุชูุงุฑูุฑุ ุฅูุฎ) ุชููู ูุชุฑุงุจุทุฉ ูู ูุงุนุฏุฉ ููุฏ ูุงุญุฏุฉ ููุชู ูุดุฑูุง ูุนูุง. ุฅุทุงุฑ ุนูู ูุซู Ruby on Rails ุฃู Django ูุดุฌุน ุจููุฉ ุนูู ูุฐุง ุงูููุท.'
            },
            {
              type: ContentType.NOTE,
              title: '๐น ุชุดุจูู: ูุทุนู ุตุบูุฑ ูุชูุงูู',
              text: 'ุงูู Monolith ูุดุจู ูุทุนููุง ุตุบูุฑูุง ุญูุซ ูููู ููุณ ุงูุทุงูู (ุฃู ูุฑูู ุตุบูุฑ) ุจุฅุนุฏุงุฏ ุงูููุจูุงุชุ ุงูุทุจู ุงูุฑุฆูุณูุ ูุงูุชุญููุฉ ูู ูุทุจุฎ ูุงุญุฏ. ูู ุดูุก ูุชูุงุณู ูุณุฑูุน ุงูุชูุณููุ ููู ุฅุฐุง ุฒุงุฏ ุงูุทูุจ ุจุดูู ูุจูุฑ ุนูู ูุณู ูุงุญุฏ (ูุซู ุงูุญูููุงุช)ุ ููุฏ ูุชุจุงุทุฃ ุงููุทุจุฎ ุจุฃูููู.'
            },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: 'โ ูุชู ูููู ุงูุฎูุงุฑ ุงูุฃูุถูุ', definition: '<b>ูู ุงูุจุฏุงูุฉ ุฏุงุฆููุง ุชูุฑูุจูุง.</b> ุนูุฏ ุฅุทูุงู ููุชุฌู ุงูุฃููู (MVP) ุฃู ุนูุฏูุง ูููู ูุฑููู ุตุบูุฑูุง (1-5 ูุทูุฑูู)ุ ูููู ุงูู Monolith ูู ุงูุฎูุงุฑ ุงูุฃุณุฑุน ูุงูุฃุจุณุท. ุฅูู ูููู ูู ุงูุชุนููุฏ ุงูุชุดุบููู ููุณูุญ ูู ุจุงูุชุฑููุฒ ุนูู ุจูุงุก ุงูููุฒุงุช ูุงูุชุญูู ูู ุตุญุฉ ููุฑุชู ูู ุงูุณูู.' },
                { term: 'โ ูุชู ูุตุจุญ ูุดููุฉุ', definition: 'ูุน ููู ูุงุนุฏุฉ ุงูููุฏ ูุงููุฑููุ ูุตุจุญ ูู ุงูุตุนุจ ูููู ูุชุนุฏููู (ูุง ูุนุฑู ุจู "Big Ball of Mud"). ุฃู ุชุบููุฑ ุตุบูุฑ ูุชุทูุจ ุงุฎุชุจุงุฑ ููุดุฑ ุงูุชุทุจูู ุจุฃููููุ ููุง ูุจุทุฆ ูู ูุชูุฑุฉ ุงูุงุจุชูุงุฑ. ููุง ุฃู ุฃู ุฎุทุฃ ูู ุฌุฒุก ูุงุญุฏ ูููู ุฃู ูุชุณุจุจ ูู ุงูููุงุฑ ุงููุธุงู ุจุฃูููู.' }
              ]
            },
            { type: ContentType.HEADING4, text: 'ุญุงูุฉ ุฏุฑุงุณูุฉ: Shopify ูุงูู Majestic Monolith'},
            { type: ContentType.PARAGRAPH, text: 'Shopifyุ ุฅุญุฏู ุฃูุจุฑ ููุตุงุช ุงูุชุฌุงุฑุฉ ุงูุฅููุชุฑูููุฉ ูู ุงูุนุงููุ ูุง ุชุฒุงู ุชุนูู ุนูู ุจููุฉ Monolith ููุชูุจุฉ ุจูุบุฉ Ruby on Rails. ููู ูููู ุฐููุ ูุฃููู ุงุณุชุซูุฑูุง ูู ุจูุงุก "Monolith ุฌูุฏ ุงูุชุตููู". ูุงููุง ุจุชูุณูู ุงูููุฏ ุฏุงุฎูููุง ุฅูู ูุญุฏุงุช (modules) ูุงุถุญุฉ ุงููุนุงูู ูุน ุญุฏูุฏ ุตุงุฑูุฉ ุจูููุง. ูุฐุง ูุณูุญ ููุฑู ูุชุนุฏุฏุฉ ุจุงูุนูู ุนูู ุฃุฌุฒุงุก ูุฎุชููุฉ ูู ุงูููุฏ ุฏูู ุงูุชุฏุงุฎู ุจุดูู ูุจูุฑุ ูุน ุงูุงุณุชูุงุฏุฉ ูู ุจุณุงุทุฉ ุงููุดุฑ ูุงูุงุฎุชุจุงุฑ ูู ุจูุฆุฉ ูุงุญุฏุฉ.'},
            {
              type: ContentType.HEADING3,
              text: '2. Microservices (ุงูุฎุฏูุงุช ุงููุตุบูุฑุฉ)'
            },
            {
              type: ContentType.PARAGRAPH,
              text: '<b>ุงููุตู:</b> ูุชู ุชูุณูู ุงูุชุทุจูู ุฅูู ูุฌููุนุฉ ูู ุงูุฎุฏูุงุช ุงูุตุบูุฑุฉ ูุงููุณุชููุฉ ุงูุชู ูููู ุชุทููุฑูุง ููุดุฑูุง ุจุดูู ูููุตู. ูู ุฎุฏูุฉ ุชููู ูุณุคููุฉ ุนู ูุธููุฉ ุนูู ูุงุญุฏุฉ (ูุซู ุฎุฏูุฉ ูููุตุงุฏูุฉุ ุฎุฏูุฉ ููููุงุชูุฑุ ุฎุฏูุฉ ููุฅุดุนุงุฑุงุช) ูุชุชูุงุตู ูุน ุงูุฎุฏูุงุช ุงูุฃุฎุฑู ุนุจุฑ ูุงุฌูุงุช API ุฃู ููุงุฆู ุงูุชุธุงุฑ ุงูุฑุณุงุฆู.'
            },
            {
              type: ContentType.NOTE,
              title: '๐น ุชุดุจูู: ูุงุนุฉ ุทุนุงู (Food Court)',
              text: 'ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ุชุดุจู ูุงุนุฉ ุทุนุงู ูู ูุฑูุฒ ุชุฌุงุฑู. ููุงู ูุทุนู ูุชุฎุตุต ูู ุงูุจูุชุฒุงุ ูุขุฎุฑ ูู ุงูุจุฑุฌุฑุ ูุซุงูุซ ูู ุงูุนุตุงุฆุฑ. ูู ูุทุจุฎ ูุนูู ุจุดูู ูุณุชููุ ูุณุชุฎุฏู ุฃุฏูุงุชู ุงูุฎุงุตุฉุ ูููููู ุงูุชูุณุน ุฃู ุงูุชุบููุฑ ุฏูู ุงูุชุฃุซูุฑ ุนูู ุงูุขุฎุฑูู. ุงูุฒุจูู (ุจูุงุจุฉ API) ูุฌูุน ุทูุจู ูู ุงููุทุงุนู ุงููุฎุชููุฉ.'
            },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: 'โ ูุชู ูููู ุงูุฎูุงุฑ ุงูุฃูุถูุ', definition: 'ุนูุฏูุง ูุตุจุญ ุงูู Monolith ูุจูุฑูุง ุฌุฏูุง ูุจุทูุฆูุงุ ูุนูุฏูุง ูููู ุงููุฑูู ุงูููุฏุณู ููุถู ุนุฏุฉ ูุฑู ูุชุฎุตุตุฉ. ูุณูุญ ูููุฑู ุจุงูุนูู ุจุดูู ูุณุชููุ ููุญุณู ูู ูุงุจููุฉ ุงูุชูุณุน (ููููู ุชูุณูุน ุฎุฏูุฉ ุงูููุงุชูุฑ ููุท ุฏูู ููุณ ุงูุฎุฏูุงุช ุงูุฃุฎุฑู)ุ ููุฒูุฏ ูู ุงููุฑููุฉ ุงูุชูููุฉ (ูููู ูุชุงุจุฉ ุฎุฏูุฉ ุจูุบุฉ Python ูุฃุฎุฑู ุจู Go).' },
                { term: 'โ ูุชู ูููู ูุฎูุงุ', definition: 'ุงุนุชูุงุฏ ูุฐุง ุงูููุท ูู ููุช ูุจูุฑ ุฌุฏูุง ูู ุฎุทุฃ ุดุงุฆุน ููุงุชู ููุดุฑูุงุช ุงููุงุดุฆุฉ. ุฅูู ูุถูู ุชุนููุฏูุง ุชุดุบููููุง ูุงุฆูุงู (ูุฑุงูุจุฉุ ูุดุฑุ ูุชูุณูู ุฎุฏูุงุช ูุชุนุฏุฏุฉ)ุ ููุชุทูุจ ุฎุจุฑุฉ ูููุฉ ูู DevOps. ุบุงูุจูุง ูุง ูุดุงุฑ ุฅููู ุจู "ุถุฑูุจุฉ ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ".' }
              ]
            },
            { type: ContentType.HEADING4, text: 'ุชุญุฏู ุงููุนุงููุงุช ุงูููุฒุนุฉ ูููุท Saga'},
            { type: ContentType.PARAGRAPH, text: 'ูู Monolithุ ููููู ุชุบููู ุนูููุงุช ูุชุนุฏุฏุฉ ูู ูุนุงููุฉ ูุงุนุฏุฉ ุจูุงูุงุช ูุงุญุฏุฉ (ACID). ูู ุงูุฎุฏูุงุช ุงููุตุบุฑุฉุ ูุฐุง ุบูุฑ ูููู ูุฃู ูู ุฎุฏูุฉ ููุง ูุงุนุฏุฉ ุจูุงูุงุชูุง ุงูุฎุงุตุฉ. ูุงุฐุง ูุญุฏุซ ุฅุฐุง ูุฌุญุช "ุฎุฏูุฉ ุฅูุดุงุก ุงููุณุชุฎุฏู" ููุดูุช "ุฎุฏูุฉ ุงูููุชุฑุฉ"ุ ุงูุญู ุงูุดุงุฆุน ูู **ููุท Saga**. ุฅูู ุณูุณูุฉ ูู ุงููุนุงููุงุช ุงููุญููุฉ. ูู ุฎุทูุฉ ูู ุงูุนูููุฉ ุชุทูู ุญุฏุซูุง. ุฅุฐุง ูุฌุญุชุ ูุชู ุชุดุบูู ุงูุฎุทูุฉ ุงูุชุงููุฉ. ุฅุฐุง ูุดูุชุ ูุชู ุชุดุบูู ุณูุณูุฉ ูู "ุงููุนุงููุงุช ุงูุชุนููุถูุฉ" ุงูุชู ุชูุบู ุงูุฎุทูุงุช ุงูุณุงุจูุฉ.'},
            { type: ContentType.HEADING4, text: 'ุญุงูุฉ ุฏุฑุงุณูุฉ: ููู ุชุณุชุฎุฏู Netflix ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ'},
            { type: ContentType.PARAGRAPH, text: 'ุชุนุชุจุฑ Netflix ุงููุซุงู ุงูุฃุดูุฑ ุนูู ุงููุฌุงุญ ูู ุชุทุจูู ุจููุฉ ุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ุนูู ูุทุงู ูุงุฆู. ูู ุฌุงูุจ ูู ุฌูุงูุจ ุฎุฏูุชููุ ูู ูุชุงููุฌ ุงูุฃููุงูุ ุฅูู ุงูุชูุตูุงุชุ ุฅูู ุงูููุชุฑุฉุ ุฅูู ุชุดููุฑ ุงูููุฏููุ ูู ุฎุฏูุฉ ูุตุบุฑุฉ ูููุตูุฉ. ูุฐุง ูุณูุญ ููู ุจูุดุฑ ุชุญุฏูุซุงุช ุขูุงู ุงููุฑุงุช ูููููุงุ ูุชุญููู ูุณุชูู ูุฐูู ูู ุงูุฌุงูุฒูุฉ (Uptime)ุ ูุชุฌุฑุจุฉ ุชูููุงุช ุฌุฏูุฏุฉ ูู ุฎุฏูุงุช ูุนุฒููุฉ ุฏูู ุงููุฎุงุทุฑุฉ ุจุชุนุทูู ุงููุธุงู ุจุฃูููู.'},
            {
              type: ContentType.HEADING3,
              text: '3. Serverless (ุจุฏูู ุฎูุงุฏู)'
            },
            {
              type: ContentType.PARAGRAPH,
              text: '<b>ุงููุตู:</b> ูุฐุง ููุณ ูุนูุงู ุนุฏู ูุฌูุฏ ุฎูุงุฏูุ ุจู ูุนูุงู ุฃูู ููุทูุฑ ูู ุชุนุฏ ุชููุฑ ูู ุงูุฎูุงุฏู ุฃู ุชุฏูุฑูุง. ุฃูุช ุชูุชุจ ููุฏู ูุฏูุงู ูููุตูุฉ (ูุซู AWS Lambda ุฃู Google Cloud Functions) ููููู ูุฒูุฏ ุงูุณุญุงุจุฉ ุจุชุดุบูููุง ุชููุงุฆููุง ุนูุฏ ุงูุญุงุฌุฉุ ููุชููู ุงูุชูุณุน ูู ุตูุฑ ุฅูู ุขูุงู ุงูุทูุจุงุช ุงููุชุฒุงููุฉ ูุงูุนูุฏุฉ ุฅูู ุงูุตูุฑ ูุฑุฉ ุฃุฎุฑู.'
            },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: 'โ ูุชู ูููู ุงูุฎูุงุฑ ุงูุฃูุถูุ', definition: 'ููููุงู ุบูุฑ ุงููุชุฒุงููุฉุ ุฃู ุงูุชู ูุชู ุชุดุบูููุง ุจุดูู ูุชูุทุน (ูุซู ูุนุงูุฌุฉ ุงูุตูุฑ ุนูุฏ ุฑูุนูุงุ ุฃู ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู ุชุฑุญูุจู)ุ ุฃู ููุงุฌูุงุช API ุฐุงุช ุญุฑูุฉ ูุฑูุฑ ุบูุฑ ูุชููุนุฉ. ุฅูู ูุนุงู ููุบุงูุฉ ูู ุญูุซ ุงูุชูููุฉ ูุฃูู ุชุฏูุน ููุท ููุงุจู ููุช ุงูุชูููุฐ ุงููุนูู ุจุงููููู ุซุงููุฉ.' },
                { term: 'โ ูุง ูู ุญุฏูุฏูุ', definition: 'ูุฏ ูููู ููุงู ุชุฃุฎูุฑ ูู ุงูุจุฏุก ุงูุจุงุฑุฏ (Cold Start) ุนูุฏ ุชุดุบูู ุงูุฏุงูุฉ ูุฃูู ูุฑุฉ. ููุง ุฃู ุชุตุญูุญ ุงูุฃุฎุทุงุก ูุงููุฑุงูุจุฉ ูููู ุฃู ููููุง ุฃูุซุฑ ุชุนููุฏูุง ูู ุงูุชุทุจููุงุช ุงูุชูููุฏูุฉ. ูุง ููุงุณุจ ุงูููุงู ุงูุชู ุชุชุทูุจ ุงุชุตุงูุงุช ุทูููุฉ ุงูุฃูุฏ ุฃู ุญุงูุฉ ูุณุชูุฑุฉ.' }
              ]
            },
            {
              type: ContentType.NOTE,
              title: '๐ก ูุตูุญุฉ ุนูููุฉ: ุงุจุฏุฃ ุจู Monolithุ ูุฎุทุท ููุชุญูู ุฅูู Microservices',
              text: 'ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุฃูุซุฑ ุญููุฉ ูู ุงูุจุฏุก ุจู "Monolith ุฌูุฏ ุงูุชุตููู" (Well-structured Monolith). ูุณูู ุงูููุฏ ุฏุงุฎูููุง ุฅูู ูุญุฏุงุช (modules) ููุทููุฉ (ูุซู ูุญุฏุฉ ูููุณุชุฎุฏูููุ ูุญุฏุฉ ููููุงุชูุฑ). ูุฐุง ูุณูู ุนูููุฉ ุงุณุชุฎุฑุงุฌ ูุฐู ุงููุญุฏุงุช ูุงุญููุง ูุชุญููููุง ุฅูู ุฎุฏูุงุช ูุตุบุฑุฉ ุนูุฏูุง ูุญูู ุงูููุช ุงูููุงุณุจ ูุฐูู. ูุง ุชุจุฏุฃ ุจุงูุฎุฏูุงุช ุงููุตุบุฑุฉ ุฅูุง ุนูุฏูุง ูุตุจุญ ุงูุฃูู ุงููุงุชุฌ ุนู ุงูู Monolith ุฃูุจุฑ ูู ุฃูู ุงูุชุญูู ุฅูููุง.'
            }
          ]
        },
        {
          id: 'part5_ch1_sec3',
          title: 'ุงุฎุชูุงุฑ ุงูุญุฒูุฉ ุงูุชูููุฉ ุงูููุงุณุจุฉ (Tech Stack)',
          icon: '๐งฐ',
          content: [
            { type: ContentType.PARAGRAPH, text: 'ุงุฎุชูุงุฑ ูุบุฉ ุงูุจุฑูุฌุฉ ูุฅุทุงุฑ ุงูุนูู ุงูููุงุณุจ ูุนุชูุฏ ุจุดูู ูุจูุฑ ุนูู ุฎุจุฑุฉ ูุฑูููุ ูุชุทูุจุงุช ุงูุฃุฏุงุกุ ูุงููุธุงู ุงูุจูุฆู (ecosystem) ููููุชุจุงุช ุงููุชุงุญุฉ.' },
            { type: ContentType.HEADING3, text: 'ุชุญููู ููุงุฑู ูุฃุดูุฑ ุฃุทุฑ ุงูุนูู' },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: 'Node.js (ูุน Express/NestJS)', definition: '<b>ุงูููุณูุฉ:</b> ุงูุณุฑุนุฉ ูุงูุฃุฏุงุก ุงูุนุงูู ูููุฏุฎูุงุช/ุงููุฎุฑุฌุงุช (I/O) ุจูุถู ูููุฐุฌูุง ุบูุฑ ุงููุชุฒุงูู ุงููุงุฆู ุนูู ุงูุฃุญุฏุงุซ (event-driven, non-blocking I/O). ูุซุงูู ููุชุทุจููุงุช ุงูุชู ุชุชุทูุจ ุชุนุงูููุง ูุน ุนุฏุฏ ูุจูุฑ ูู ุงูุงุชุตุงูุงุช ุงููุชุฒุงููุฉ ูุซู ุชุทุจููุงุช ุงูุฏุฑุฏุดุฉุ ุงูุฅุดุนุงุฑุงุชุ ุฃู ูุงุฌูุงุช API ุงูุชู ุชุนูู ููุณูุท. <b>NestJS</b> ูุถูู ุทุจูุฉ ูููุฉ ูู ุงูุชูุธูู ูุงูููููุฉ ููู Expressุ ููุง ูุฌุนูู ุฎูุงุฑูุง ููุชุงุฒูุง ูุชุทุจููุงุช ุงููุคุณุณุงุช.' },
                { term: 'Python (ูุน Django/FastAPI)', definition: '<b>ุงูููุณูุฉ:</b> ุณุฑุนุฉ ุงูุชุทููุฑ ูุงููุถูุญ. <b>Django</b> ูุฃุชู ูุน "ุจุทุงุฑูุงุช ูุชุถููุฉ" (admin panel, ORM, authentication)ุ ููุง ูุฌุนูู ูุซุงูููุง ููุฃูุธูุฉ ุงููุนูุฏุฉ ุงูุชู ุชุชุทูุจ ุฅุฏุงุฑุฉ ูุญุชูู ุฃู ุนูููุงุช ุฎูููุฉ ูููุฉ. <b>FastAPI</b> ูุฑูุฒ ุนูู ุงูุฃุฏุงุก ุงูุนุงูู ูุงูุชูุซูู ุงูุชููุงุฆู ููุงุฌูุงุช APIุ ููู ุฎูุงุฑ ููุชุงุฒ ููุงุฌูุงุช API ุงูุชู ุชุฎุฏู ููุงุฐุฌ ุชุนูู ุงูุขูุฉ ุฃู ุชุชุทูุจ ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ.' },
                { term: 'Ruby on Rails', definition: '<b>ุงูููุณูุฉ:</b> "ุงูุงุชูุงููุฉ ููู ุงูุชูููู" (Convention over Configuration). ููุฏู ุฅูู ุฌุนู ุงููุทูุฑ ุณุนูุฏูุง ูููุชุฌูุง ูู ุฎูุงู ุชูููุฑ ูุณุงุฑ ูุงุถุญ ููุญุฏุฏ ูุจูุงุก ุชุทุจููุงุช ุงูููุจ. ูุง ูุฒุงู ุฎูุงุฑูุง ููููุง ุฌุฏูุง ูุจูุงุก ุงูููุชุฌุงุช ุงูุฃูููุฉ (MVPs) ูุงูุฃูุธูุฉ ุงููุชูุณุทุฉ ุจุณุฑุนุฉ ููุงุณูุฉ.' },
              ]
            },
            { type: ContentType.NOTE, title: '๐น ุงููุฑุงุฑ ููุณ ุชููููุง ุจุญุชูุง', text: 'ุงูุนุงูู ุงูุฃูู ูู ุงุฎุชูุงุฑ ุงูุญุฒูุฉ ุงูุชูููุฉ ูู: <b>ูุง ูู ุงููุบุฉ ุงูุชู ูุฌูุฏูุง ูุฑููู ุงูุญุงูู ุฃู ูููู ุชูุธูู ูุทูุฑูู ููุง ุจุณูููุฉุ</b>. ุชุทุจูู ููุชูุจ ุจูุบุฉ "ุฃุจุทุฃ" ููููู ูุตูู ุฌูุฏูุง ูููููู ููุฑููู ุณูููู ุฏุงุฆููุง ุฃูุถู ูู ุชุทุจูู ููุชูุจ ุจูุบุฉ "ุฃุณุฑุน" ูููู ูุง ุฃุญุฏ ูุนุฑู ููููุฉ ุตูุงูุชู.' }
          ]
        },
        {
          id: 'part5_ch1_sec4',
          title: 'ุชุตููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู SaaS: ููุฉ PostgreSQL',
          icon: '๐๏ธ',
          content: [
            { type: ContentType.PARAGRAPH, text: 'ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ููุจ ูุธุงูู. ูู ุญูู ุฃู ููุงู ุงูุนุฏูุฏ ูู ุงูุฎูุงุฑุงุชุ ุฃุซุจุชุช <b>PostgreSQL</b> ููุณูุง ูุฎูุงุฑ ููุถู ููุนุธู ุชุทุจููุงุช SaaS ุงูุญุฏูุซุฉ ููุฒูุฌูุง ุงููุฑูุฏ ูู ุงูููุซูููุฉุ ุงููุฑููุฉุ ูุงูููุฒุงุช ุงููุชูุฏูุฉ.' },
            { type: ContentType.HEADING3, text: 'ููุงุฐุง PostgreSQL ุชุชููู ูู SaaSุ' },
            {
              type: ContentType.LIST_UNORDERED,
              items: [
                '<b>ุงูููุซูููุฉ ู ACID Compliance:</b> ุชุถูู ุฃู ูุนุงููุงุชู (ูุซู ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ ูุฅูุดุงุก ุงุดุชุฑุงูู) ุฅูุง ุฃู ุชูุชูู ุจูุฌุงุญ ุจุงููุงูู ุฃู ุชูุดู ุจุงููุงููุ ููุง ูููุน ุงูุจูุงูุงุช ุบูุฑ ุงููุชุณูุฉ.',
                '<b>ุฏุนู JSONB:</b> ููููู ุชุฎุฒูู ุจูุงูุงุช JSON ุบูุฑ ููุธูุฉ ูุงูุจุญุซ ูููุง ุจููุงุกุฉ ุฏุงุฎู ูุงุนุฏุฉ ุจูุงูุงุชู ุงูุนูุงุฆููุฉุ ููุง ูููุญู ุฃูุถู ูุง ูู ุนุงููู SQL ู NoSQL.',
                '<b>ููุญูุงุช ูููุฉ (Extensions):</b> ูุซู PostGIS (ููุจูุงูุงุช ุงูุฌุบุฑุงููุฉ) ู TimescaleDB (ููุจูุงูุงุช ุงูุฒูููุฉ)ุ ููุง ูุณูุญ ูู ุจุชูุณูุน ูุฏุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฏูู ุงูุญุงุฌุฉ ุฅูู ูุธุงู ูููุตู.',
                '<b>ุงูุฃูุงู ุงููุชูุฏู:</b> ุงูููุฒุฉ ุงูุฃูู ูู <b>Row-Level Security (RLS)</b>ุ ูุงูุชู ุณูุชูุงูููุง ุจุงูุชูุตููุ ููู ุชุนุชุจุฑ ุดุจูุฉ ุฃูุงู ุญุงุณูุฉ ูู ุจููุฉ Multi-Tenant.'
              ]
            },
            {
                type: ContentType.HEADING3,
                text: 'ุงูููุงุฐุฌ ุงูุซูุงุซุฉ ูุนุฒู ุงูุจูุงูุงุช: ุดูุฉุ ุชุงูู ูุงูุณุ ุฃู ูููุงุ'
            },
            {
                type: ContentType.PARAGRAPH,
                text: 'ุงุฎุชูุงุฑ ูููุฐุฌ ุนุฒู ุงูุจูุงูุงุช ูู ุงููุฑุงุฑ ุงููุนูุงุฑู ุงูุฃูู ูู ูุธุงูู. ูุง ููุฌุฏ ุญู "ุฃูุถู" ููุฌููุนุ ุจู ูู ููุงุฒูุฉ ุจูู ุงูุชูููุฉ ูุงูุฃูุงู ูุณูููุฉ ุงูุฅุฏุงุฑุฉ. ุฏุนูุง ูุณุชูุดู ุงูููุงุฐุฌ ุงูุซูุงุซุฉ ุจุงุณุชุฎุฏุงู ุชุดุจููุงุช ูู ุนุงูู ุงูุนูุงุฑุงุช.'
            },
            {
                type: ContentType.DEFINITION_LIST,
                definitionItems: [
                    { term: '1. Shared Database, Shared Schema (ูููุฐุฌ ุงูุดูุฉ)', definition: '<b>ุงููุตู:</b> ุฌููุน ุงููุณุชุฃุฌุฑูู ูุณุชุฎุฏููู ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูููุณ ุงูุฌุฏุงูู. ูุชู ุงูุชูููุฒ ุจูููู ุนุจุฑ ุญูู `tenant_id` ูู ูู ุฌุฏูู. ูุฐุง ูู ุงููููุฐุฌ ุงูุฃูุซุฑ ุดููุนูุง ููุดุฑูุงุช ุงููุงุดุฆุฉ ุจุณุจุจ ุจุณุงุทุชู ูุชูููุชู ุงูููุฎูุถุฉ. <b>ุงููุฎุงุทุฑ:</b> ูุชุทูุจ ุงูุถุจุงุทูุง ุจุฑูุฌููุง ุตุงุฑููุง ูููุน ุชุณุฑุจ ุงูุจูุงูุงุชุ ููุดููุฉ "ุงูุฌุงุฑ ุงููุฒุนุฌ" ุญูุซ ูููู ููุณุชุฃุฌุฑ ูุงุญุฏ ุฃู ูุจุทุฆ ุฃุฏุงุก ุงูุฌููุน.' },
                    { term: '2. Shared Database, Separate Schema (ูููุฐุฌ ุงูุชุงูู ูุงูุณ)', definition: '<b>ุงููุตู:</b> ููุณ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ููู ููู ูุณุชุฃุฌุฑ ูุฎุทุท (Schema) ูููุตู ูุญุชูู ุนูู ุฌุฏุงููู ุงูุฎุงุตุฉ. ูููุฑ ุนุฒูุงู ููุทูููุง ููููุง. <b>ุงููุฎุงุทุฑ:</b> ุนูููุฉ ุชุฑุญูู ุงูุจูุงูุงุช (ุชุบููุฑ ุจููุฉ ุงูุฌุฏุงูู) ุชุตุจุญ ูุงุจูุณูุง ุญูุซ ูุฌุจ ุชุทุจูููุง ุนูู ูู ูุฎุทุท ุนูู ุญุฏุฉ.' },
                    { term: '3. Separate Database (ูููุฐุฌ ุงููููุง ุงูุฎุงุตุฉ)', definition: '<b>ุงููุตู:</b> ูู ูุณุชุฃุฌุฑ ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุงููุฉ ูููุตูุฉ. ูููุฑ ุฃุนูู ูุณุชูู ูู ุงูุนุฒู ูุงูุฃูุงู ูุงูุฃุฏุงุก. <b>ุงููุฎุงุทุฑ:</b> ุชูุงููู ุชุดุบูููุฉ ุจุงูุธุฉ ูุชุนููุฏ ูุงุฆู ูู ุงูุฅุฏุงุฑุฉ ูุงูุชุญุฏูุซุงุช.' },
                ]
            },
             { type: ContentType.CODE_EXPLANATION,
                language: 'sql',
                codeTitle: 'ูุซุงู ุชุตููู ุฌุฏูู ุงููุณุชุฎุฏููู (ูููุฐุฌ ุงูุดูุฉ ุงูุดุงุฆุน)',
                code: `CREATE TABLE tenants (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL
);

CREATE TABLE users (
    id UUID PRIMARY KEY,
    email VARCHAR(255) NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    tenant_id UUID NOT NULL REFERENCES tenants(id) ON DELETE CASCADE,
    UNIQUE (tenant_id, email) -- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุฑูุฏ ุฏุงุฎู ุงูุดุฑูุฉ ุงููุงุญุฏุฉ
);

-- ูู ุงุณุชุนูุงู ูุฌุจ ุฃู ูุชุถูู ุดุฑุท tenant_id
-- SELECT * FROM tasks WHERE user_id = ? AND tenant_id = ?;`,
                explanations: [
                    { lines: "1-4", explanation: "ุฌุฏูู ูุชุฎุฒูู ูุนูููุงุช ุงููุณุชุฃุฌุฑูู (ุงูุดุฑูุงุช ุงููุดุชุฑูุฉ)." },
                    { lines: "10", explanation: "ุงูุนููุฏ ุงูุญุงุณู ุงูุฐู ูุฑุจุท ูู ูุณุชุฎุฏู ุจุงููุณุชุฃุฌุฑ ุงูุฎุงุต ุจู. `ON DELETE CASCADE` ุชุถูู ุญุฐู ุฌููุน ูุณุชุฎุฏูู ุงููุณุชุฃุฌุฑ ุนูุฏ ุญุฐู ุงููุณุชุฃุฌุฑ ููุณู." },
                    { lines: "11", explanation: "ููุฏ ูุฑูุฏ ูุถูู ุฃู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุง ูุชูุฑุฑ ุฏุงุฎู ููุณ ุงููุณุชุฃุฌุฑุ ููููู ูููู ุฃู ููุฌุฏ ูู ูุณุชุฃุฌุฑ ุขุฎุฑ." }
                ]
            },
          ]
        },
        {
          id: 'part5_ch1_sec5',
          title: 'ุชุตููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ุฏุงุนูุฉ ูู Multi-Tenant',
          icon: '๐งฉ',
          content: [
            { type: ContentType.PARAGRAPH, text: 'ูุงุฌูุฉ API ูู ุงูุนูุฏ ุงูุฐู ูุฑุจุท ุจูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ูุงูุฎูููุฉ. ูุฌุจ ุชุตููููุง ูุชููู ูุงุถุญุฉุ ุขููุฉุ ูุฏุงุนูุฉ ูุชุนุฏุฏ ุงููุณุชุฃุฌุฑูู ููุฐ ุงูููู ุงูุฃูู.'},
            { type: ContentType.HEADING3, text: 'ุชุญุฏูุฏ ุงููุณุชุฃุฌุฑ (Tenant Identification)'},
            { type: ContentType.PARAGRAPH, text: 'ููู ูุนุฑู ุงููุธุงู ุฃู ูุณุชุฃุฌุฑ ููุฏู ุงูุทูุจุ ุงูุทุฑู ุงูุดุงุฆุนุฉ ุชุดูู:'},
            {
                type: ContentType.LIST_UNORDERED,
                items: [
                    '<b>ุนุจุฑ Subdomain (ุงููุทุงู ุงููุฑุนู):</b> ูุซู `acme.yoursaas.com`. ูุฐู ูู ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุงุญุชุฑุงููุฉ ูุชุทุจููุงุช B2B.',
                    '<b>ุนุจุฑ JWT Token:</b> ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ูุชู ุชุถููู `tenant_id` ุฏุงุฎู ุญูููุฉ (payload) ุชููู ุงููุตุงุฏูุฉ. ูุฐู ุทุฑููุฉ ุขููุฉ ูุดุงุฆุนุฉ ุฌุฏูุง.'
                ]
            },
            {
              type: ContentType.HEADING3,
              text: 'ุฅุฏุงุฑุฉ ุฅุตุฏุงุฑุงุช API (API Versioning)'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ูุน ุชุทูุฑ ุชุทุจูููุ ุณุชุญุชุงุฌ ุฅูู ุชุบููุฑ ูุงุฌูุฉ API ุงูุฎุงุตุฉ ุจู. ูููู ูุง ููููู ูุณุฑ ุงูุชูุงูู ูุน ุงูุนููุงุก ุงููุฏุงูู (ุฎุงุตุฉ ุชุทุจููุงุช ุงููุงุชู ุงููุญููู). ุฅุฏุงุฑุฉ ุงูุฅุตุฏุงุฑุงุช ุฃูุฑ ุญุงุณู. ุงูุทุฑู ุงูุดุงุฆุนุฉ ูู:'
            },
            {
              type: ContentType.LIST_UNORDERED,
              items: [
                '<b>ูู ูุณุงุฑ URL (URL Path):</b> ุงูุฃูุซุฑ ุดููุนูุง ููุถูุญูุง. `https://api.yoursaas.com/v1/tasks` ู `https://api.yoursaas.com/v2/tasks`.',
                '<b>ูู ุฑุฃุณ ูุฎุตุต (Custom Header):</b> `Accept: application/vnd.yoursaas.v1+json`. ุฃูุซุฑ ูุฑููุฉ ูููู ุฃูู ูุงุจููุฉ ููุงูุชุดุงู.',
              ]
            },
            {
              type: ContentType.HEADING3,
              text: 'ุชุตููู API ุบูุฑ ูุชูุฑุฑุฉ (Idempotent APIs)'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ูู ุงูุนูููุงุช ุงูุญุณุงุณุฉ ูุซู ุฅูุดุงุก ูุงุชูุฑุฉ ุฃู ุฅุฌุฑุงุก ุฏูุนุฉุ ูุงุฐุง ูุญุฏุซ ุฅุฐุง ูุงู ุงูุนููู ุจุฅุฑุณุงู ููุณ ุงูุทูุจ ูุฑุชูู ุจุณุจุจ ูุดููุฉ ูู ุงูุดุจูุฉุ ูุฌุจ ุฃู ุชุถูู ูุงุฌูุฉ API ุงูุฎุงุตุฉ ุจู ุฃู ุชูููุฐ ุงูุทูุจ ูุฑุชูู ูู ููุณ ุชุฃุซูุฑ ุชูููุฐู ูุฑุฉ ูุงุญุฏุฉ. ูุฐุง ูุง ูุนุฑู ุจู "Idempotency".'
            },
            {
              type: ContentType.CODE_EXPLANATION,
              language: 'python',
              codeTitle: 'ูุซุงู Idempotency ุจุงุณุชุฎุฏุงู ุฑุฃุณ ูุฎุตุต (Python/Flask)',
              code: `import redis
cache = redis.Redis()

@app.route('/api/invoices', methods=['POST'])
@jwt_required()
def create_invoice():
    idempotency_key = request.headers.get('Idempotency-Key')
    if not idempotency_key:
        return jsonify({'error': 'Idempotency-Key header is required'}), 400

    # ุชุญูู ููุง ุฅุฐุง ูุงู ูุฐุง ุงูููุชุงุญ ูุฏ ุชูุช ูุนุงูุฌุชู ุจุงููุนู
    if cache.get(idempotency_key):
        return jsonify({'message': 'Request already processed'}), 200

    # ... ููุทู ุฅูุดุงุก ุงููุงุชูุฑุฉ ููุง ...
    invoice = create_invoice_in_db()

    # ูู ุจุชุฎุฒูู ุงูููุชุงุญ ูู Redis ูุน ูุชุฑุฉ ุงูุชูุงุก ุตูุงุญูุฉ (ูุซูุงู 24 ุณุงุนุฉ)
    cache.set(idempotency_key, invoice.id, ex=86400)
    
    return jsonify(invoice.to_dict()), 201`,
              explanations: [
                { lines: '6', explanation: 'ูุชููุน ุงูุฎุงุฏู ุฃู ูุฑุณู ุงูุนููู ุฑุฃุณูุง ูุฑูุฏูุง ููู ุนูููุฉ ุฌุฏูุฏุฉ.' },
                { lines: '11-13', explanation: 'ูุจู ุชูููุฐ ุฃู ุดูุกุ ูุชุญูู ุงูุฎุงุฏู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช (Redis) ููุง ุฅุฐุง ูุงู ูุฐุง ุงูููุชุงุญ ูุฏ ุดููุฏ ูู ูุจู. ุฅุฐุง ูุงู ุงูุฃูุฑ ูุฐููุ ูุฅูู ูุนูุฏ ุงูุงุณุชุฌุงุจุฉ ุงูุฃุตููุฉ ุฏูู ุชูุฑุงุฑ ุงูุนูููุฉ.' },
                { lines: '19', explanation: 'ุจุนุฏ ุฅููุงู ุงูุนูููุฉ ุจูุฌุงุญุ ูุชู ุชุฎุฒูู ุงูููุชุงุญ ููุฅุดุงุฑุฉ ุฅูู ุฃู ูุฐู ุงูุนูููุฉ ูุฏ ุชูุช.' }
              ]
            }
          ]
        },
        {
          id: 'part5_ch1_sec6',
          title: 'ุงููุตุงุฏูุฉ ูุงูุชูููุถ ุงููุชูุฏู (AuthN & AuthZ)',
          icon: '๐',
          content: [
            { type: ContentType.PARAGRAPH, text: '<b>ุงููุตุงุฏูุฉ (Authentication - AuthN)</b> ุชุฌูุจ ุนูู ุณุคุงู "ูู ุฃูุชุ". <b>ุงูุชูููุถ (Authorization - AuthZ)</b> ูุฌูุจ ุนูู ุณุคุงู "ูุง ุงูุฐู ููุณูุญ ูู ุจูุนููุ". ููุงููุง ุญุงุณู ููุฃูุงู.' },
            { type: ContentType.HEADING3, text: 'ุงูุชูููุถ: RBAC ููุงุจู ABAC' },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: 'ุงูุชุญูู ูู ุงููุตูู ุงููุงุฆู ุนูู ุงูุฃุฏูุงุฑ (Role-Based Access Control - RBAC)', definition: 'ุงููููุฐุฌ ุงูุฃูุซุฑ ุดููุนูุง. ูุชู ุชุนููู ุตูุงุญูุงุช ูุฃุฏูุงุฑ (ูุซู `admin`, `editor`, `viewer`)ุ ุซู ูุชู ุชุนููู ูุฐู ุงูุฃุฏูุงุฑ ูููุณุชุฎุฏููู. ุฅูู ุจุณูุท ูุณูู ุงูููู.' },
                { term: 'ุงูุชุญูู ูู ุงููุตูู ุงููุงุฆู ุนูู ุงูุณูุงุช (Attribute-Based Access Control - ABAC)', definition: 'ูููุฐุฌ ุฃูุซุฑ ููุฉ ููุฑููุฉ. ูุชู ุงุชุฎุงุฐ ูุฑุงุฑุงุช ุงูุชูููุถ ุจูุงุกู ุนูู ูุฌููุนุฉ ูู ุงูุณูุงุช (ูุซู ุฏูุฑ ุงููุณุชุฎุฏูุ ูุณููุ ูููุน ุงููุดุฑูุนุ ุญุณุงุณูุฉ ุงูุจูุงูุงุช). ุฅูู ุฃูุซุฑ ุชุนููุฏูุง ูู ุงูุชูููุฐ ููููู ูููุฑ ุชุญูููุง ุฏููููุง ููุบุงูุฉ.' }
              ]
            },
            { type: ContentType.CODE_EXPLANATION, language: 'python', codeTitle: 'ูุซุงู Middleware ููุชูููุถ (RBAC)',
            code: `from functools import wraps

def requires_role(required_role):
    def decorator(f):
        @wraps(f)
        def decorated_function(*args, **kwargs):
            user_role = get_user_role_from_jwt() # ุงุญุตู ุนูู ุฏูุฑ ุงููุณุชุฎุฏู
            if user_role != required_role and user_role != 'owner':
                return jsonify({'message': 'Forbidden'}), 403
            return f(*args, **kwargs)
        return decorated_function
    return decorator

@app.route('/api/tenants/settings', methods=['PUT'])
@jwt_required()
@requires_role('admin') # ููุท ุงูุฃุฏูู ุฃู ุงููุงูู ูููููู ุงููุตูู
def update_tenant_settings():
    # ... ููุทู ุงูุชุญุฏูุซ ...
    return jsonify({'message': 'Settings updated'})
`,
            explanations: [
                { lines: '3', explanation: 'ูุฐุง ููุฒูููู (decorator) ููุจู ุงูุฏูุฑ ุงููุทููุจ ููุณูุทุฉ.'},
                { lines: '8-9', explanation: 'ูุชู ูุญุต ุฏูุฑ ุงููุณุชุฎุฏู ุงููุณุชุฎุฑุฌ ูู ุชููู JWT. ุฅุฐุง ูู ููู ูุฏูู ุงูุฏูุฑ ุงููุทููุจ (ุฃู ุฏูุฑ `owner` ุงูุฃุนูู)ุ ูุชู ุฅุฑุฌุงุน ุฎุทุฃ 403 Forbidden.'},
                { lines: '16', explanation: 'ุชุทุจูู ุงูููุฒูููู ุนูู ููุทุฉ ุงูููุงูุฉ ูุถูู ุชุดุบูู ูุญุต ุงูุตูุงุญูุงุช ูุจู ุชูููุฐ ููุทู ุงูุนูู.'}
            ]}
          ]
        },
        {
          id: 'part5_ch1_sec7',
          title: 'ุฏูุฌ ูุธุงู ุงูุฏูุน ุจุงุญุชุฑุงููุฉ: Stripe API',
          icon: '๐ณ',
          content: [
            { type: ContentType.PARAGRAPH, text: 'ุฅุฏุงุฑุฉ ุงูููุชุฑุฉ ูุงูุงุดุชุฑุงูุงุช ูู ุนูููุฉ ูุนูุฏุฉ ููุญูููุฉ ุจุงููุฎุงุทุฑ ุงูุฃูููุฉ. ูุญุงููุฉ ุจูุงุก ูุฐุง ุงููุธุงู ูู ุงูุตูุฑ ูู ุฎุทุฃ ูุงุฏุญ. <b>Stripe</b> ูู ุงูุฃุฏุงุฉ ุงูููุงุณูุฉ ูููุทูุฑูู ููุชุนุงูู ูุน ูู ูุฐุง ุงูุชุนููุฏ.' },
            { type: ContentType.HEADING3, text: 'ุฏูุฑุฉ ุญูุงุฉ ุงูุงุดุชุฑุงู ูุน Stripe' },
            {
              type: ContentType.CODE_BLOCK,
              language: 'python',
              code: `# 1. ุฅูุดุงุก ุนููู ูู Stripe ุนูุฏ ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
customer = stripe.Customer.create(
    email=user.email,
    name=user.name,
    metadata={'app_user_id': user.id} # ุงูุฑุจุท ุจูู ุงููุธุงููู
)
# user.stripe_customer_id = customer.id
# db.session.commit()

# 2. ุฅูุดุงุก ุงุดุชุฑุงู ููุนููู
subscription = stripe.Subscription.create(
    customer=user.stripe_customer_id,
    items=[{'price': 'price_pro_monthly'}], # price_id ูู ููุญุฉ ุชุญูู Stripe
    trial_period_days=14,
    metadata={'tenant_id': user.tenant_id}
)

# 3. ุชุฎุฒูู ุญุงูุฉ ุงูุงุดุชุฑุงู ูู ูุงุนุฏุฉ ุจูุงูุงุชู
# new_sub = Subscription(id=subscription.id, status=subscription.status, ...)
# db.session.add(new_sub)`
            },
            {
              type: ContentType.HEADING3,
              text: 'ุงูุชุนุงูู ูุน Webhooks: ุงููุตุฏุฑ ุงููุญูุฏ ููุญูููุฉ'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ูุง ุชุนุชูุฏ ุนูู ูุชูุฌุฉ ุทูุจ API ููุนุฑูุฉ ูุง ุฅุฐุง ูุงู ุงูุฏูุน ูุฏ ูุฌุญ. ุงููุตุฏุฑ ุงููุญูุฏ ุงูููุซูู ุจู ูู <b>Stripe Webhooks</b>. Webhooks ูู ุฅุดุนุงุฑุงุช ุขููุฉ ูุฑุณููุง Stripe ุฅูู ุฎุงุฏูู ุนูุฏ ูููุน ุฃุญุฏุงุซ ูุนููุฉ (ูุซู ูุฌุงุญ ุงูุฏูุนุ ูุดู ุงููุงุชูุฑุฉุ ุฅูุบุงุก ุงูุงุดุชุฑุงู).'
            },
            {
              type: ContentType.CODE_EXPLANATION,
              language: 'python',
              codeTitle: 'ูุซุงู ููุทุฉ ููุงูุฉ Webhook (Python/Django)',
              code: `@csrf_exempt
def stripe_webhook(request):
    payload = request.body
    sig_header = request.headers.get('Stripe-Signature')
    endpoint_secret = settings.STRIPE_WEBHOOK_SECRET
    
    try:
        event = stripe.Webhook.construct_event(
            payload, sig_header, endpoint_secret
        )
    except ValueError:
        return HttpResponse(status=400) # ุญูููุฉ ุบูุฑ ุตุงูุญุฉ
    except stripe.error.SignatureVerificationError:
        return HttpResponse(status=400) # ุชูููุน ุบูุฑ ุตุงูุญ

    # ุงูุชุนุงูู ูุน ุญุฏุซ ูุฌุงุญ ุฏูุน ุงููุงุชูุฑุฉ
    if event['type'] == 'invoice.payment_succeeded':
        invoice = event['data']['object']
        handle_payment_succeeded(invoice)
    
    # ุงูุชุนุงูู ูุน ุญุฏุซ ูุดู ุงูุฏูุน
    elif event['type'] == 'invoice.payment_failed':
        invoice = event['data']['object']
        # ุฃุฑุณู ุฅุดุนุงุฑูุง ูููุณุชุฎุฏู ูุชุญุฏูุซ ุจุทุงูุชู
        send_payment_failed_email(invoice.customer_email)

    # ุงูุชุนุงูู ูุน ุญุฏุซ ุฅูุบุงุก ุงูุงุดุชุฑุงู
    elif event['type'] == 'customer.subscription.deleted':
        subscription = event['data']['object']
        handle_subscription_canceled(subscription)

    return HttpResponse(status=200)`,
              explanations: [
                { lines: '1', explanation: 'ูุฌุจ ุชุนุทูู ุญูุงูุฉ CSRF ููุฐู ุงูููุทุฉ ูุฃู ุงูุทูุจ ูุฃุชู ูู ุฎูุงุฏู Stripe ูููุณ ูู ูุณุชุฎุฏู ูุฏูู ุฌูุณุฉ.' },
                { lines: '7-13', explanation: '<b>ุงูุฎุทูุฉ ุงูุฃูุซุฑ ุฃูููุฉ:</b> ุงูุชุญูู ูู ุชูููุน Webhook. ูุฐุง ูุถูู ุฃู ุงูุทูุจ ุฌุงุก ุจุงููุนู ูู Stripe ูููุณ ูู ุฌูุฉ ุฎุจูุซุฉ ุชุญุงูู ุงูุชูุงุนุจ ุจูุธุงูู.' },
                { lines: '21-24', explanation: 'ุงูุชุนุงูู ูุน ูุดู ุงูุฏูุน ูุง ููู ุฃูููุฉ ุนู ุงูุชุนุงูู ูุน ุงููุฌุงุญ. ูุฌุจ ุฅุนูุงู ุงููุณุชุฎุฏู ูุงุชุฎุงุฐ ุฅุฌุฑุงุก ูุชุฌูุจ ุงูุงูุตุฑุงู ุบูุฑ ุงูุทูุนู (involuntary churn).' }
              ]
            }
          ]
        },
        {
          id: 'part5_ch1_sec8',
          title: 'ุงูุฃูุงู ุงูุดุงูู ูููุงุฌูุฉ ุงูุฎูููุฉ',
          icon: '๐ก๏ธ',
          content: [
            { type: ContentType.PARAGRAPH, text: 'ุงูุฃูุงู ููุณ ููุฒุฉุ ุจู ูู ุฃุณุงุณ ูุฌุจ ุฃู ููุจูู ุนููู ูู ุดูุก. ูู ูุธุงู SaaSุ ุฃูุช ูุณุคูู ุนู ุจูุงูุงุช ุขูุงู ุงูุนููุงุก.' },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: 'ููุน ุญูู SQL (SQL Injection)', definition: 'ุงุณุชุฎุฏู ุฏุงุฆููุง <b>ORM (Object-Relational Mapper)</b> ูุซู SQLAlchemy ุฃู Django ORMุ ุฃู ุงุณุชุฎุฏู <b>ุงูุนุจุงุฑุงุช ุงูููุนุฏุฉ (Prepared Statements)</b>. ูุง ุชูู ุฃุจุฏูุง ุจุฏูุฌ ูุฏุฎูุงุช ุงููุณุชุฎุฏู ูุจุงุดุฑุฉ ูู ุณูุณูุฉ ุงุณุชุนูุงู SQL.' },
                { term: 'ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ (Secret Management)', definition: '<b>ูุง ุชูุชุจ ุฃุจุฏูุง ููุงุชูุญ API ุฃู ูููุงุช ุณุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ ูู ุงูููุฏ.</b> ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ (Environment Variables) ูู ุงูุชุทููุฑ ุงููุญููุ ูุงุณุชุฎุฏู ุฎุฏูุฉ ูุชุฎุตุตุฉ ูุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ ูู ุงูุฅูุชุงุฌ ูุซู <b>AWS Secrets Manager</b>, <b>HashiCorp Vault</b>, ุฃู <b>Doppler</b>. ูุฐู ุงูุฃุฏูุงุช ุชุฎุฒู ุงูุฃุณุฑุงุฑ ุจุดูู ูุดูุฑ ูุชููุฑูุง ููุชุทุจูู ุจุฃูุงู ุนูุฏ ุจุฏุก ุงูุชุดุบูู.'},
                { term: 'ุฃูุงู ุฑูุน ุงููููุงุช', definition: 'ูุง ุชุซู ุฃุจุฏูุง ูู ุงุณู ุงูููู ุฃู ููุน MIME ุงูุฐู ูุฑุณูู ุงูุนููู. ูู ุจุงูุชุญูู ูู ููุน ุงูููู ุนูู ุงูุฎุงุฏูุ ููู ุจุชุบููุฑ ุงุณู ุงูููู ุฅูู ูุนุฑู ูุฑูุฏุ ููู ุจุฑูุน ุงููููุงุช ูุจุงุดุฑุฉ ุฅูู ุฎุฏูุฉ ุชุฎุฒูู ูุงุฆูุงุช (Object Storage) ูุซู <b>AWS S3</b>ุ ููู ุจุชูุฏูููุง ูู ูุทุงู ูุฑุนู ูููุตู ุฃู ุนุจุฑ CDN ูููุน ุชูููุฐ ุฃู ููุฏ ุฎุจูุซ ูุฏ ูููู ูุฎุจุฃู ูู ุงูููู.' },
                { term: 'ุฃูุงู ุงูุงุนุชูุงุฏูุงุช (Dependency Security)', definition: 'ุงุณุชุฎุฏู ุฃุฏูุงุช ูุซู <b>npm audit</b> ุฃู <b>GitHub Dependabot</b> ููุญุต ููุชุจุงุช ุงูุทุฑู ุงูุซุงูุซ ุงูุชู ุชุณุชุฎุฏููุง ุจุงูุชุธุงู ุจุญุซูุง ุนู ุซุบุฑุงุช ุฃูููุฉ ูุนุฑููุฉ ูุชุญุฏูุซูุง.' },
              ]
            },
            {
              type: ContentType.CODE_BLOCK,
              language: 'python',
              codeTitle: 'ูุซุงู ุนูู ุงุณุชุฎุฏุงู ุนุจุงุฑุฉ ูุนุฏุฉ (Python/psycopg2)',
              code: `# โ ุฎุทุฑ: ุนุฑุถุฉ ูุญูู SQL
cursor.execute(f"SELECT * FROM users WHERE id = '{user_id}'")

# โ ุขูู: ุงุณุชุฎุฏุงู ุชูุฑูุฑ ุงููุนููุงุช
# ูููู เฆกเงเฆฐเฆพเฆูุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุชุนููู ุงููุฏุฎูุงุช
cursor.execute("SELECT * FROM users WHERE id = %s", (user_id,))`
            }
          ]
        },
        {
          id: 'part5_ch1_sec9',
          title: 'ุชุญุณูู ุงูุฃุฏุงุก ุงููุชูุฏู: ุงูุชุฎุฒูู ุงููุคูุช ูููุงุฆู ุงูุงูุชุธุงุฑ',
          icon: '๐',
          content: [
            {
              type: ContentType.HEADING3,
              text: 'ุงูุชุฎุฒูู ุงููุคูุช (Caching) ุจุงุณุชุฎุฏุงู Redis'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ุงููุตูู ุฅูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุฃุจุทุฃ ุฌุฒุก ูู ูุนุธู ุงูุชุทุจููุงุช. ุงูุชุฎุฒูู ุงููุคูุช ูู ุนูููุฉ ุชุฎุฒูู ุงูุจูุงูุงุช ุงูุชู ูุชู ุงููุตูู ุฅูููุง ุจุดูู ูุชูุฑุฑ ูู ุฐุงูุฑุฉ ุณุฑูุนุฉ ูุซู <b>Redis</b> ูุชูููู ุงูุญูู ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุงุณุชุฑุงุชูุฌูุฉ "Cache-Aside" ูู ุงูุฃูุซุฑ ุดููุนูุง.'
            },
            {
              type: ContentType.CODE_BLOCK,
              language: 'javascript',
              codeTitle: 'ูุซุงู Cache-Aside (Node.js/Redis)',
              code: `app.get('/api/tasks', async (req, res) => {
  const cacheKey = \`tasks:\${req.tenant.id}\`;
  
  // 1. ุญุงูู ุงูุญุตูู ุนูู ุงูุจูุงูุงุช ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฃููุงู
  const cached = await redis.get(cacheKey);
  if (cached) {
    return res.json(JSON.parse(cached));
  }

  // 2. ุฅุฐุง ูู ุชูู ููุฌูุฏุฉุ ุงุญุตู ุนูููุง ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  const tasks = await db.query('SELECT * FROM tasks WHERE tenant_id = ?', [req.tenant.id]);
  
  // 3. ูู ุจุชุฎุฒูููุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุทูุจุงุช ุงููุณุชูุจููุฉ
  await redis.setex(cacheKey, 300, JSON.stringify(tasks)); // ุชุฎุฒูู ููุฏุฉ 5 ุฏูุงุฆู

  res.json(tasks);
});`
            },
            {
              type: ContentType.NOTE,
              title: 'โ๏ธ ุฃุตุนุจ ูุดููุฉ ูู ุนููู ุงูููุจููุชุฑ',
              text: 'ููุงู ุฅู ููุงู ูุดููุชูู ุตุนุจุชูู ูู ุนููู ุงูููุจููุชุฑ: ุชุณููุฉ ุงูุฃุดูุงุกุ ูุฅุจุทุงู ุตูุงุญูุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช (Cache Invalidation). ุนูุฏ ุชุญุฏูุซ ุงูุจูุงูุงุชุ ูุฌุจ ุฃู ุชุชุฐูุฑ ุฅูุง ุญุฐููุง ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฃู ุชุญุฏูุซูุง ูุถูุงู ุนุฏู ุชูุฏูู ุจูุงูุงุช ูุฏููุฉ ูููุณุชุฎุฏู.'
            },
            {
              type: ContentType.HEADING3,
              text: 'ููุงุฆู ุงูุงูุชุธุงุฑ ุบูุฑ ุงููุชุฒุงููุฉ (Asynchronous Queues)'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ูุงุฐุง ูุญุฏุซ ุฅุฐุง ุทูุจ ูุณุชุฎุฏู ุชุตุฏูุฑ ุชูุฑูุฑ ูุจูุฑ ูุณุชุบุฑู 30 ุซุงููุฉุ ูุง ููููู ุฌุนู ุงููุณุชุฎุฏู ููุชุธุฑ ูู ูุฐุง ุงูููุช. ุงูุญู ูู ูุนุงูุฌุฉ ุงูููุงู ุงูุทูููุฉ ูู ุงูุฎูููุฉ ุจุงุณุชุฎุฏุงู ูุธุงู ูุงุฆูุฉ ุงูุชุธุงุฑ ูุซู <b>Celery (ูุน RabbitMQ ุฃู Redis)</b>.'
            },
            {
              type: ContentType.HEADING4,
              text: 'ุญุงูุฉ ุฏุฑุงุณูุฉ: ููู ุชุณุชุฎุฏู Slack ููุงุฆู ุงูุงูุชุธุงุฑ'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ุชุณุชุฎุฏู Slack ููุงุฆู ุงูุงูุชุธุงุฑ ุจุดูู ููุซู ููุญูุงุธ ุนูู ุงุณุชุฌุงุจุฉ ุชุทุจูููุง. ุนูุฏูุง ุชูุชุจ ุฑุณุงูุฉ ูุชูุตู ุฑุงุจุทูุงุ ูุง ููุชุธุฑ ุงูุฎุงุฏู ุญุชู ูุชู ุชุญููู ุงูุฑุงุจุท ูุฅูุดุงุก ูุนุงููุฉ ูู (unfurling). ุจุฏูุงู ูู ุฐููุ ูุชู ุฅุฑุณุงู ุงูุฑุณุงูุฉ ุนูู ุงูููุฑุ ููุชู ูุถุน ูููุฉ "unfurl_link" ูู ูุงุฆูุฉ ุงูุชุธุงุฑ. ูููู ุนุงูู ูููุตู ุจูุนุงูุฌุฉ ูุฐู ุงููููุฉ ูู ุงูุฎูููุฉุ ูุนูุฏูุง ููุชููุ ูุฑุณู ุชุญุฏูุซูุง ุนุจุฑ WebSocket ูุงุณุชุจุฏุงู ุงูุฑุงุจุท ุจุงููุนุงููุฉ ุงูุบููุฉ. ูุฐุง ูุถูู ุฃู ุชุฌุฑุจุฉ ุงูุฏุฑุฏุดุฉ ุชุธู ููุฑูุฉ.'
            },
            {
              type: ContentType.CODE_EXPLANATION,
              language: 'python',
              codeTitle: 'ูุซุงู Celery ูุน ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฑุณุงุฆู ุงูููุชุฉ (DLQ)',
              code: `# tasks.py - ููู ุชุนุฑูู ููุงู Celery
from celery import Celery

app = Celery('tasks', broker='redis://localhost:6379/0')

@app.task(bind=True, max_retries=3, default_retry_delay=60)
def generate_report(self, tenant_id, user_id):
    try:
        # ... ููุทู ุฅูุดุงุก ุงูุชูุฑูุฑ ุงูุฐู ูุฏ ููุดู ...
        report_data = create_large_report_data()
        send_notification(user_id, "Your report is ready!")
    except Exception as exc:
        # ุฅุฐุง ูุดูุชุ ุฃุนุฏ ุงููุญุงููุฉ ุจุนุฏ 60 ุซุงููุฉุ ุญุชู 3 ูุฑุงุช
        raise self.retry(exc=exc)


# views.py - ููุทุฉ ููุงูุฉ API ุงูุชู ุชุจุฏุฃ ุงููููุฉ
@app.route('/api/reports', methods=['POST'])
def request_report():
    generate_report.delay(current_user.tenant_id, current_user.id)
    return jsonify({'message': 'Report generation started.'}), 202`,
              explanations: [
                { lines: '6', explanation: '`bind=True` ูุณูุญ ูููููุฉ ุจุงููุตูู ุฅูู ููุณูุง. `max_retries` ู `default_retry_delay` ูุญุฏุฏุงู ุณููู ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆู.' },
                { lines: '12', explanation: 'ุฅุฐุง ุญุฏุซ ุงุณุชุซูุงุกุ ูุฅู ุงุณุชุฏุนุงุก `self.retry` ูุฎุจุฑ Celery ุจุฅุนุงุฏุฉ ุฌุฏููุฉ ุงููููุฉ ุจุฏูุงู ูู ุงููุดู ุงูููุงุฆู.'}
              ]
            },
            {
                type: ContentType.NOTE,
                title: 'ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฑุณุงุฆู ุงูููุชุฉ (DLQ)',
                text: 'ุฅุฐุง ูุดูุช ุงููููุฉ ุจุนุฏ ูู ุงููุญุงููุงุชุ ูููู ุชูููู Celery ูุฅุฑุณุงููุง ุฅูู **ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุฑุณุงุฆู ุงูููุชุฉ (Dead Letter Queue - DLQ)**. ูุฐุง ูุณูุญ ูููููุฏุณูู ุจูุญุต ุงูููุงู ุงููุงุดูุฉ ูุฏูููุง ูุชุญุฏูุฏ ุณุจุจ ุงููุดููุฉ ุฏูู ููุฏุงู ุงููููุฉ.'
            }
          ]
        },
        {
          id: 'part5_ch1_sec11',
          title: 'ุงูุฎูุงุตุฉ ูุชูุงุฑูู ุชุทุจูููุฉ',
          icon: '๐',
          content: [
            {
              type: ContentType.PARAGRAPH,
              text: 'ุงููุงุฌูุฉ ุงูุฎูููุฉ ููุธุงู SaaS ูู ุขูุฉ ูุนูุฏุฉ ุชุชุทูุจ ุชูุงุฒููุง ุฏููููุง ุจูู ุงูุณุฑุนุฉ ูุงูุฃูุงู ููุงุจููุฉ ุงูุชูุณุน. ุงููุฑุงุฑุงุช ุงููุนูุงุฑูุฉ ุงูุชู ุชุชุฎุฐูุง ูู ููุช ูุจูุฑ ุณูููู ููุง ุชุฃุซูุฑ ุฏุงุฆู ุนูู ูุฌุงุญ ููุชุฌู.'
            },
            {
              type: ContentType.PARAGRAPH,
              text: 'ูู ุฎูุงู ูุฐุง ุงููุตูุ ุชุนููุช:'
            },
            {
              type: ContentType.LIST_UNORDERED,
              items: [
                'ููููุฉ ุงุฎุชูุงุฑ ุงูููุท ุงููุนูุงุฑู ุงูููุงุณุจ (Monolith vs. Microservices) ููุชู ุชูุชูู ุจููููุง.',
                'ุชุตููู ูุงุนุฏุฉ ุจูุงูุงุช Multi-tenant ูุงุนูุฉ ุจุงูุฃูุงู ุจุงุณุชุฎุฏุงู PostgreSQL ู RLS.',
                'ุชูููุฐ ูุงุฌูุงุช API ูููุฉ ูุบูุฑ ูุชูุฑุฑุฉ (Idempotent) ูุน ุฅุฏุงุฑุฉ ุงูุฅุตุฏุงุฑุงุช.',
                'ุฏูุฌ Stripe ูุงูุชุนุงูู ูุน Webhooks ุจุดูู ุขูู.',
                'ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู ุงููุคูุช ูููุงุฆู ุงูุงูุชุธุงุฑ ูุชุญุณูู ุงูุฃุฏุงุก ุจุดูู ุฌุฐุฑู.',
                'ุฃูููุฉ ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ (Secrets) ูุนุฏู ูุชุงุจุชูุง ูุจุงุดุฑุฉ ูู ุงูููุฏ.',
              ]
            },
            {
              type: ContentType.HEADING3,
              text: '๐ ุชูุงุฑูู ุชุทุจูููุฉ'
            },
            {
              type: ContentType.DEFINITION_LIST,
              definitionItems: [
                { term: '1. ุชุทุจูู RLS ุนูู ุฌุฏูู ุงูููุงู', definition: 'ูู ุจุฅุนุฏุงุฏ ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQLุ ูุฃูุดุฆ ุฌุฏูู ุงูููุงู ููุง ูู ููุถุญุ ุซู ูู ุจุชุทุจูู ุณูุงุณุฉ Row-Level Security ุนููู. ุญุงูู ุงูุงุณุชุนูุงู ุนู ุงูุฌุฏูู ูุจู ูุจุนุฏ ุชุนููู ูุชุบูุฑ ุงูุฌูุณุฉ `app.current_tenant_id` ูุชุฑู ุงููุฑู.' },
                { term: '2. ูุชุงุจุฉ ููุทุฉ ููุงูุฉ Webhook ุขููุฉ', definition: 'ุฃูุดุฆ ููุทุฉ ููุงูุฉ ุฃุณุงุณูุฉ ูู ุฅุทุงุฑ ุงูุนูู ุงูููุถู ูุฏูู ุชุชุญูู ูู ุชูููุน Stripe Webhook. ููููู ุงุณุชุฎุฏุงู Stripe CLI ููุญุงูุงุฉ ุฅุฑุณุงู ุฃุญุฏุงุซ Webhook ุฅูู ุฎุงุฏูู ุงููุญูู.' },
                { term: '3. ุชุตููู ูุงุฌูุฉ API ูุน ุฅุตุฏุงุฑุงุช', definition: 'ุตูู ูุณุงุฑูู (routes) ููุงุฌูุฉ APIุ ูุงุญุฏ ูู `/api/v1/tasks` ูุขุฎุฑ ูู `/api/v2/tasks`. ุงุฌุนู ุงูุฅุตุฏุงุฑ ุงูุซุงูู ูุนูุฏ ุญูููุง ุฅุถุงูููุง ูุง ููุฌุฏ ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู.'},
                { term: '4. ุชุตููู Saga ูุชุณุฌูู ุงููุณุชุฎุฏู', definition: 'ุนูู ูุฑูุฉ ุฃู ุจุงุณุชุฎุฏุงู ุฃุฏุงุฉ ุฑุณู ุชุฎุทูุทูุ ุตูู ุชุฏูู Saga ูุนูููุฉ ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ. ูุฌุจ ุฃู ุชุชุถูู ุงูุฎุทูุงุช: (1) ุฅูุดุงุก ุณุฌู ุงููุณุชุฎุฏูุ (2) ุฅูุดุงุก ุนููู Stripeุ (3) ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู ุชุฑุญูุจู. ููู ุฎุทูุฉุ ุญุฏุฏ "ุงููุนุงููุฉ ุงูุชุนููุถูุฉ" ุงูุชู ูุฌุจ ุชูููุฐูุง ุฅุฐุง ูุดูุช ุงูุฎุทูุฉ ุงูุชุงููุฉ.' }
              ]
            }
          ]
        }
      ]
    }
  ]
};
